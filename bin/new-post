#!/bin/sh

create_file() {
  if [ -z "$1" ]; then
    echo "No filename provided"
    exit 1
  fi

  if [[ $1 =~ \.html$ ]]; then
    echo "File does has an .html extension"
    exit 2
  fi

  mkdir -pv "./public/$1"
  cp -nv "./public/.shared/post-template.html" "./public/$1/index.html"
  eval "$EDITOR" "./public/$1/index.html"
}

create_file "$@"
